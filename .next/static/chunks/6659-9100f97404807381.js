(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6659],{42480:function(){},82609:function(e,t,n){Promise.resolve().then(n.bind(n,36152)),Promise.resolve().then(n.bind(n,55170)),Promise.resolve().then(n.bind(n,70166)),Promise.resolve().then(n.bind(n,45846))},18948:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var l=n(57437),s=n(96507),i=n(25210),r=n(13457),o=n(85269),a=n(64898),c=n(12040);function d(e){let{link:t,activeLast:n,disabled:r}=e,{name:o,href:a,icon:d}=t,x={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...r&&!n&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},h=(0,l.jsxs)(l.Fragment,{children:[d&&(0,l.jsx)(s.Z,{component:"span",sx:{mr:1,display:"inherit","& svg":{width:20,height:20}},children:d}),o]});return a?(0,l.jsx)(i.Z,{component:c.r,href:a,sx:x,children:h}):(0,l.jsxs)(s.Z,{sx:x,children:[" ",h," "]})}function x(e){let{links:t,action:n,heading:c,moreLink:x,activeLast:u,sx:j,...p}=e,m=t[t.length-1].name;return(0,l.jsxs)(s.Z,{sx:{...j},children:[(0,l.jsxs)(r.Z,{direction:"row",alignItems:"center",children:[(0,l.jsxs)(s.Z,{sx:{flexGrow:1},children:[c&&(0,l.jsx)(o.Z,{variant:"h4",gutterBottom:!0,children:c}),!!t.length&&(0,l.jsx)(a.Z,{separator:(0,l.jsx)(h,{}),...p,children:t.map(e=>(0,l.jsx)(d,{link:e,activeLast:u,disabled:e.name===m},e.name||""))})]}),n&&(0,l.jsxs)(s.Z,{sx:{flexShrink:0},children:[" ",n," "]})]}),!!x&&(0,l.jsx)(s.Z,{sx:{mt:2},children:x.map(e=>(0,l.jsx)(i.Z,{href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e))})]})}function h(){return(0,l.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}},30926:function(e,t,n){"use strict";n.d(t,{ZP:function(){return f},l2:function(){return o},wE:function(){return c}});var l=n(3205),s=n(38533),i=n(59546),r=n(54695);function o(e,t){let n=new Date().getFullYear(),o=e?(0,i.Z)(e):null,a=t?(0,i.Z)(t):null,c=!!e&&!!t&&(0,l.Z)(new Date(e),new Date(t)),d=!!e&&!!t&&(0,s.Z)(new Date(e),new Date(t));return n===o&&n===a?d?c?(0,r.Mu)(t,"dd MMM yy"):"".concat((0,r.Mu)(e,"dd")," - ").concat((0,r.Mu)(t,"dd MMM yy")):"".concat((0,r.Mu)(e,"dd MMM")," - ").concat((0,r.Mu)(t,"dd MMM yy")):"".concat((0,r.Mu)(e,"dd MMM yy")," - ").concat((0,r.Mu)(t,"dd MMM yy"))}var a=n(2265);function c(e,t){let[n,l]=(0,a.useState)(!1),[s,i]=(0,a.useState)(t),[c,d]=(0,a.useState)(e),x=!!e&&!!t&&new Date(e).getTime()>new Date(t).getTime(),h=(0,a.useCallback)(()=>{l(!0)},[]),u=(0,a.useCallback)(()=>{l(!1)},[]),j=(0,a.useCallback)(e=>{d(e)},[]),p=(0,a.useCallback)(e=>{x&&i(null),i(e)},[x]),m=(0,a.useCallback)(()=>{d(null),i(null)},[]);return{startDate:c,endDate:s,onChangeStartDate:j,onChangeEndDate:p,open:n,onOpen:h,onClose:u,onReset:m,selected:!!c&&!!s,error:x,label:"".concat((0,r.Mu)(c)," - ").concat((0,r.Mu)(s)),shortLabel:o(c,s),setStartDate:d,setEndDate:i}}var d=n(57437),x=n(76737),h=n(85404),u=n(14486),j=n(13457),p=n(49600),m=n(22079),b=n(91797),g=n(42834),Z=n(26337),v=n(14604),y=n(62364);function f(e){let{title:t="Select date range",variant:n="input",startDate:l,endDate:s,onChangeStartDate:i,onChangeEndDate:r,open:o,onClose:a,error:c}=e,f=(0,y.F)("up","md"),w="calendar"===n;return(0,d.jsxs)(m.Z,{fullWidth:!0,maxWidth:!w&&"xs",open:o,onClose:a,PaperProps:{sx:{...w&&{maxWidth:720}}},children:[(0,d.jsx)(b.Z,{sx:{pb:2},children:t}),(0,d.jsxs)(Z.Z,{sx:{...w&&f&&{overflow:"unset"}},children:[(0,d.jsx)(j.Z,{justifyContent:"center",spacing:w?3:2,direction:w&&f?"row":"column",sx:{pt:1},children:w?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,d.jsx)(h.W,{value:l,onChange:i})}),(0,d.jsx)(u.Z,{variant:"outlined",sx:{borderRadius:2,borderColor:"divider",borderStyle:"dashed"},children:(0,d.jsx)(h.W,{value:s,onChange:r})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(x.M,{label:"Start date",value:l,onChange:i}),(0,d.jsx)(x.M,{label:"End date",value:s,onChange:r})]})}),c&&(0,d.jsx)(v.Z,{error:!0,sx:{px:2},children:"End date must be later than start date"})]}),(0,d.jsxs)(g.Z,{children:[(0,d.jsx)(p.Z,{variant:"outlined",color:"inherit",onClick:a,children:"Cancel"}),(0,d.jsx)(p.Z,{disabled:c,variant:"contained",onClick:a,children:"Apply"})]})]})}},51848:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});var l=n(57437),s=n(49600),i=n(22079),r=n(91797),o=n(42834),a=n(26337);function c(e){let{title:t,content:n,action:c,open:d,onClose:x,...h}=e;return(0,l.jsxs)(i.Z,{fullWidth:!0,maxWidth:"xs",open:d,onClose:x,...h,children:[(0,l.jsx)(r.Z,{sx:{pb:2},children:t}),n&&(0,l.jsxs)(a.Z,{sx:{typography:"body2"},children:[" ",n," "]}),(0,l.jsxs)(o.Z,{children:[c,(0,l.jsx)(s.Z,{variant:"outlined",color:"inherit",onClick:x,children:"Cancel"})]})]})}},77168:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n(57437),s=n(89975),i=n(96507),r=n(85269),o=n(13457);function a(e){let{title:t,imgUrl:n,action:a,filled:c,description:d,sx:x,...h}=e;return(0,l.jsxs)(o.Z,{flexGrow:1,alignItems:"center",justifyContent:"center",sx:{px:3,height:1,...c&&{borderRadius:2,bgcolor:e=>(0,s.Fq)(e.palette.grey[500],.04),border:e=>"dashed 1px ".concat((0,s.Fq)(e.palette.grey[500],.08))},...x},children:[(0,l.jsx)(i.Z,{component:"img",alt:"empty content",src:n||"/assets/icons/empty/ic_content.svg",sx:{width:1,maxWidth:160}}),t&&(0,l.jsx)(r.Z,{variant:"h6",component:"span",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:t}),d&&(0,l.jsx)(r.Z,{variant:"caption",sx:{mt:1,color:"text.disabled",textAlign:"center"},children:d}),a&&a]})}},38788:function(e,t,n){"use strict";function l(e,t,n){return e?Math.max(0,(1+e)*t-n):0}function s(e,t,n){return null===e[n]?1:null===t[n]||t[n]<e[n]?-1:t[n]>e[n]?1:0}function i(e,t){return"desc"===e?(e,n)=>s(e,n,t):(e,n)=>-s(e,n,t)}n.d(t,{$W:function(){return m},K:function(){return f},et:function(){return h},S_:function(){return P},Z4:function(){return C},hM:function(){return p},fQ:function(){return l},sQ:function(){return i},x6:function(){return o}});var r=n(2265);function o(e){let[t,n]=(0,r.useState)(!!(null==e?void 0:e.defaultDense)),[l,s]=(0,r.useState)((null==e?void 0:e.defaultCurrentPage)||0),[i,o]=(0,r.useState)((null==e?void 0:e.defaultOrderBy)||"name"),[a,c]=(0,r.useState)((null==e?void 0:e.defaultRowsPerPage)||5),[d,x]=(0,r.useState)((null==e?void 0:e.defaultOrder)||"asc"),[h,u]=(0,r.useState)((null==e?void 0:e.defaultSelected)||[]),j=(0,r.useCallback)(e=>{let t=i===e&&"asc"===d;""!==e&&(x(t?"desc":"asc"),o(e))},[d,i]),p=(0,r.useCallback)(e=>{let t=h.includes(e)?h.filter(t=>t!==e):[...h,e];u(t)},[h]),m=(0,r.useCallback)(e=>{s(0),c(parseInt(e.target.value,10))},[]),b=(0,r.useCallback)(e=>{n(e.target.checked)},[]),g=(0,r.useCallback)((e,t)=>{if(e){u(t);return}u([])},[]),Z=(0,r.useCallback)((e,t)=>{s(t)},[]),v=(0,r.useCallback)(()=>{s(0)},[]),y=(0,r.useCallback)(e=>{u([]),l&&e<2&&s(l-1)},[l]),f=(0,r.useCallback)(e=>{let{totalRows:t,totalRowsInPage:n,totalRowsFiltered:i}=e,r=h.length;if(u([]),l){if(r===n)s(l-1);else if(r===i)s(0);else if(r>n){let e=Math.ceil((t-r)/a)-1;s(e)}}},[l,a,h.length]);return{dense:t,order:d,page:l,orderBy:i,rowsPerPage:a,selected:h,onSelectRow:p,onSelectAllRows:g,onSort:j,onChangePage:Z,onChangeDense:b,onResetPage:v,onChangeRowsPerPage:m,onUpdatePageDeleteRow:y,onUpdatePageDeleteRows:f,setPage:s,setDense:n,setOrder:x,setOrderBy:o,setSelected:u,setRowsPerPage:c}}var a=n(57437),c=n(77370),d=n(80470),x=n(77168);function h(e){let{notFound:t,sx:n}=e;return(0,a.jsx)(c.Z,{children:t?(0,a.jsx)(d.Z,{colSpan:12,children:(0,a.jsx)(x.Z,{filled:!0,title:"No Data",sx:{py:10,...n}})}):(0,a.jsx)(d.Z,{colSpan:12,sx:{p:0}})})}var u=n(13457),j=n(11898);function p(e){let{...t}=e;return(0,a.jsx)(c.Z,{...t,children:(0,a.jsx)(d.Z,{colSpan:12,children:(0,a.jsxs)(u.Z,{spacing:3,direction:"row",alignItems:"center",children:[(0,a.jsx)(j.Z,{sx:{borderRadius:1.5,width:48,height:48,flexShrink:0}}),(0,a.jsx)(j.Z,{sx:{width:1,height:12}}),(0,a.jsx)(j.Z,{sx:{width:180,height:12}}),(0,a.jsx)(j.Z,{sx:{width:160,height:12}}),(0,a.jsx)(j.Z,{sx:{width:140,height:12}}),(0,a.jsx)(j.Z,{sx:{width:120,height:12}})]})})})}function m(e){let{emptyRows:t,height:n}=e;return t?(0,a.jsx)(c.Z,{sx:{...n&&{height:n*t}},children:(0,a.jsx)(d.Z,{colSpan:9})}):null}var b=n(96507),g=n(16171),Z=n(66988),v=n(95781);let y={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function f(e){let{order:t,orderBy:n,rowCount:l=0,headLabel:s,numSelected:i=0,onSort:r,onSelectAllRows:o,sx:x}=e;return(0,a.jsx)(Z.Z,{sx:x,children:(0,a.jsxs)(c.Z,{children:[o&&(0,a.jsx)(d.Z,{padding:"checkbox",children:(0,a.jsx)(g.Z,{indeterminate:!!i&&i<l,checked:!!l&&i===l,onChange:e=>o(e.target.checked)})}),s.map(e=>(0,a.jsx)(d.Z,{align:e.align||"left",sortDirection:n===e.id&&t,sx:{width:e.width,minWidth:e.minWidth},children:r?(0,a.jsxs)(v.Z,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?t:"asc",onClick:()=>r(e.id),children:[e.label,n===e.id?(0,a.jsx)(b.Z,{sx:{...y},children:"desc"===t?"sorted descending":"sorted ascending"}):null]}):e.label},e.id))]})})}var w=n(85269);function C(e){let{dense:t,action:n,rowCount:l,numSelected:s,onSelectAllRows:i,sx:r,...o}=e;return s?(0,a.jsxs)(u.Z,{direction:"row",alignItems:"center",sx:{pl:1,pr:2,top:0,left:0,width:1,zIndex:9,height:58,position:"absolute",bgcolor:"primary.lighter",...t&&{height:38},...r},children:[(0,a.jsx)(g.Z,{indeterminate:!!s&&s<l,checked:!!l&&s===l,onChange:e=>i(e.target.checked)}),(0,a.jsxs)(w.Z,{variant:"subtitle2",sx:{ml:2,flexGrow:1,color:"primary.main",...t&&{ml:3}},children:[s," selected"]}),n&&n]}):null}var S=n(88444),D=n(27400),k=n(35904);function P(e){let{dense:t,onChangeDense:n,rowsPerPageOptions:l=[5,10,25],sx:s,...i}=e;return(0,a.jsxs)(b.Z,{sx:{position:"relative",...s},children:[(0,a.jsx)(k.Z,{rowsPerPageOptions:l,component:"div",...i,sx:{borderTopColor:"transparent"}}),n&&(0,a.jsx)(D.Z,{label:"Dense",control:(0,a.jsx)(S.Z,{checked:t,onChange:n}),sx:{pl:2,py:1.5,top:0,position:{sm:"absolute"}}})]})}},34316:function(e,t,n){"use strict";n.d(t,{jD:function(){return l.usePathname},tv:function(){return l.useRouter},lr:function(){return l.useSearchParams}}),n(2519);var l=n(24033)},2519:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var l=n(24033);function s(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,l.usePathname)(),s=e.startsWith("#"),i="/"===e?"/":"".concat(e,"/"),r=!s&&n===i,o=!s&&n.includes(i);return t?o:r}},34014:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var l=n(57437),s=n(2265),i=n(35691),r=n(61865),o=n(89701),a=n(137),c=n(15133),d=n(13457),x=n(46843),h=n(34316),u=n(99998),j=n(15389),p=n(82001),m=n(54737),b=n.n(m),g=n(96507),Z=n(49600),v=n(54986),y=n(64494),f=n(85269),w=n(97044),C=n(81679),S=n(75187),D=n(94700);function k(){let{control:e,setValue:t,watch:n,resetField:i}=(0,r.Gc)(),{fields:o,append:a,remove:c}=(0,r.Dq)({control:e,name:"items"}),x=n(),h=x.items.map(e=>e.quantity*e.price),j=b()(h),m=j-x.discount-x.shipping+x.taxes;(0,s.useEffect)(()=>{t("totalAmount",m)},[t,m]);let k=e=>{c(e)},P=(0,s.useCallback)(e=>{i("items[".concat(e,"].quantity")),i("items[".concat(e,"].price")),i("items[".concat(e,"].total"))},[i]),_=(0,s.useCallback)((e,n)=>{var l;t("items[".concat(e,"].price"),null===(l=u.PI.find(e=>e.name===n))||void 0===l?void 0:l.price),t("items[".concat(e,"].total"),x.items.map(e=>e.quantity*e.price)[e])},[t,x.items]),G=(0,s.useCallback)((e,n)=>{t("items[".concat(n,"].quantity"),Number(e.target.value)),t("items[".concat(n,"].total"),x.items.map(e=>e.quantity*e.price)[n])},[t,x.items]),I=(0,s.useCallback)((e,n)=>{t("items[".concat(n,"].price"),Number(e.target.value)),t("items[".concat(n,"].total"),x.items.map(e=>e.quantity*e.price)[n])},[t,x.items]),T=(0,l.jsxs)(d.Z,{spacing:2,alignItems:"flex-end",sx:{mt:3,textAlign:"right",typography:"body2"},children:[(0,l.jsxs)(d.Z,{direction:"row",children:[(0,l.jsx)(g.Z,{sx:{color:"text.secondary"},children:"Subtotal"}),(0,l.jsx)(g.Z,{sx:{width:160,typography:"subtitle2"},children:(0,S.e_)(j)||"-"})]}),(0,l.jsxs)(d.Z,{direction:"row",children:[(0,l.jsx)(g.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,l.jsx)(g.Z,{sx:{width:160,...x.shipping&&{color:"error.main"}},children:x.shipping?"- ".concat((0,S.e_)(x.shipping)):"-"})]}),(0,l.jsxs)(d.Z,{direction:"row",children:[(0,l.jsx)(g.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,l.jsx)(g.Z,{sx:{width:160,...x.discount&&{color:"error.main"}},children:x.discount?"- ".concat((0,S.e_)(x.discount)):"-"})]}),(0,l.jsxs)(d.Z,{direction:"row",children:[(0,l.jsx)(g.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,l.jsx)(g.Z,{sx:{width:160},children:x.taxes?(0,S.e_)(x.taxes):"-"})]}),(0,l.jsxs)(d.Z,{direction:"row",sx:{typography:"subtitle1"},children:[(0,l.jsx)(g.Z,{children:"Total"}),(0,l.jsx)(g.Z,{sx:{width:160},children:(0,S.e_)(m)||"-"})]})]});return(0,l.jsxs)(g.Z,{sx:{p:3},children:[(0,l.jsx)(f.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Details:"}),(0,l.jsx)(d.Z,{divider:(0,l.jsx)(v.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:o.map((e,t)=>(0,l.jsxs)(d.Z,{alignItems:"flex-end",spacing:1.5,children:[(0,l.jsxs)(d.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,l.jsx)(p.au,{size:"small",name:"items[".concat(t,"].title"),label:"Title",InputLabelProps:{shrink:!0}}),(0,l.jsx)(p.au,{size:"small",name:"items[".concat(t,"].description"),label:"Description",InputLabelProps:{shrink:!0}}),(0,l.jsxs)(p.Cc,{name:"items[".concat(t,"].service"),size:"small",label:"Service",InputLabelProps:{shrink:!0},sx:{maxWidth:{md:160}},children:[(0,l.jsx)(y.Z,{value:"",onClick:()=>P(t),sx:{fontStyle:"italic",color:"text.secondary"},children:"None"}),(0,l.jsx)(v.Z,{sx:{borderStyle:"dashed"}}),u.PI.map(e=>(0,l.jsx)(y.Z,{value:e.name,onClick:()=>_(t,e.name),children:e.name},e.id))]}),(0,l.jsx)(p.au,{size:"small",type:"number",name:"items[".concat(t,"].quantity"),label:"Quantity",placeholder:"0",onChange:e=>G(e,t),InputLabelProps:{shrink:!0},sx:{maxWidth:{md:96}}}),(0,l.jsx)(p.au,{size:"small",type:"number",name:"items[".concat(t,"].price"),label:"Price",placeholder:"0.00",onChange:e=>I(e,t),InputProps:{startAdornment:(0,l.jsx)(C.Z,{position:"start",children:(0,l.jsx)(g.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:{maxWidth:{md:96}}}),(0,l.jsx)(p.au,{disabled:!0,size:"small",type:"number",name:"items[".concat(t,"].total"),label:"Total",placeholder:"0.00",value:0===x.items[t].total?"":x.items[t].total.toFixed(2),onChange:e=>I(e,t),InputProps:{startAdornment:(0,l.jsx)(C.Z,{position:"start",children:(0,l.jsx)(g.Z,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})},sx:{maxWidth:{md:104},["& .".concat(w.Z.input)]:{textAlign:{md:"right"}}}})]}),(0,l.jsx)(Z.Z,{size:"small",color:"error",startIcon:(0,l.jsx)(D.Z,{icon:"solar:trash-bin-trash-bold"}),onClick:()=>k(t),children:"Remove"})]},e.id))}),(0,l.jsx)(v.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,l.jsxs)(d.Z,{spacing:3,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[(0,l.jsx)(Z.Z,{size:"small",color:"primary",startIcon:(0,l.jsx)(D.Z,{icon:"mingcute:add-line"}),onClick:()=>{a({title:"",description:"",service:"",quantity:1,price:0,total:0})},sx:{flexShrink:0},children:"Add Item"}),(0,l.jsxs)(d.Z,{spacing:2,justifyContent:"flex-end",direction:{xs:"column",md:"row"},sx:{width:1},children:[(0,l.jsx)(p.au,{size:"small",label:"Shipping($)",name:"shipping",type:"number",sx:{maxWidth:{md:120}}}),(0,l.jsx)(p.au,{size:"small",label:"Discount($)",name:"discount",type:"number",sx:{maxWidth:{md:120}}}),(0,l.jsx)(p.au,{size:"small",label:"Taxes(%)",name:"taxes",type:"number",sx:{maxWidth:{md:120}}})]})]}),T]})}var P=n(52653),_=n(62364),G=n(85997);function I(){var e;let{watch:t,setValue:n,formState:{errors:s}}=(0,r.Gc)(),i=(0,_.F)("up","md"),o=t(),{invoiceFrom:a,invoiceTo:c}=o,x=(0,j.k)(),h=(0,j.k)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.Z,{spacing:{xs:3,md:5},direction:{xs:"column",md:"row"},divider:(0,l.jsx)(v.Z,{flexItem:!0,orientation:i?"vertical":"horizontal",sx:{borderStyle:"dashed"}}),sx:{p:3},children:[(0,l.jsxs)(d.Z,{sx:{width:1},children:[(0,l.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,l.jsx)(f.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"From:"}),(0,l.jsx)(P.Z,{onClick:x.onTrue,children:(0,l.jsx)(D.Z,{icon:"solar:pen-bold"})})]}),(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(f.Z,{variant:"subtitle2",children:a.name}),(0,l.jsx)(f.Z,{variant:"body2",children:a.fullAddress}),(0,l.jsxs)(f.Z,{variant:"body2",children:[" ",a.phoneNumber]})]})]}),(0,l.jsxs)(d.Z,{sx:{width:1},children:[(0,l.jsxs)(d.Z,{direction:"row",alignItems:"center",sx:{mb:1},children:[(0,l.jsx)(f.Z,{variant:"h6",sx:{color:"text.disabled",flexGrow:1},children:"To:"}),(0,l.jsx)(P.Z,{onClick:h.onTrue,children:(0,l.jsx)(D.Z,{icon:c?"solar:pen-bold":"mingcute:add-line"})})]}),c?(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(f.Z,{variant:"subtitle2",children:c.name}),(0,l.jsx)(f.Z,{variant:"body2",children:c.fullAddress}),(0,l.jsxs)(f.Z,{variant:"body2",children:[" ",c.phoneNumber]})]}):(0,l.jsx)(f.Z,{typography:"caption",sx:{color:"error.main"},children:null===(e=s.invoiceTo)||void 0===e?void 0:e.message})]})]}),(0,l.jsx)(G.IJ,{title:"Customers",open:x.value,onClose:x.onFalse,selected:e=>(null==a?void 0:a.id)===e,onSelect:e=>n("invoiceFrom",e),list:u.PX,action:(0,l.jsx)(Z.Z,{size:"small",startIcon:(0,l.jsx)(D.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})}),(0,l.jsx)(G.IJ,{title:"Customers",open:h.value,onClose:h.onFalse,selected:e=>(null==c?void 0:c.id)===e,onSelect:e=>n("invoiceTo",e),list:u.PX,action:(0,l.jsx)(Z.Z,{size:"small",startIcon:(0,l.jsx)(D.Z,{icon:"mingcute:add-line"}),sx:{alignSelf:"flex-end"},children:"New"})})]})}var T=n(76737);function M(){let{control:e,watch:t}=(0,r.Gc)(),n=t();return(0,l.jsxs)(d.Z,{spacing:2,direction:{xs:"column",sm:"row"},sx:{p:3,bgcolor:"background.neutral"},children:[(0,l.jsx)(p.au,{disabled:!0,name:"invoiceNumber",label:"Invoice number",value:n.invoiceNumber}),(0,l.jsx)(p.Cc,{fullWidth:!0,name:"status",label:"Status",InputLabelProps:{shrink:!0},PaperPropsSx:{textTransform:"capitalize"},children:["paid","pending","overdue","draft"].map(e=>(0,l.jsx)(y.Z,{value:e,children:e},e))}),(0,l.jsx)(r.Qr,{name:"createDate",control:e,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,l.jsx)(T.M,{label:"Date create",value:t.value,onChange:e=>{t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null==n?void 0:n.message}}})}}),(0,l.jsx)(r.Qr,{name:"dueDate",control:e,render:e=>{let{field:t,fieldState:{error:n}}=e;return(0,l.jsx)(T.M,{label:"Due date",value:t.value,onChange:e=>{t.onChange(e)},slotProps:{textField:{fullWidth:!0,error:!!n,helperText:null==n?void 0:n.message}}})}})]})}function R(e){let{currentInvoice:t}=e,n=(0,h.tv)(),m=(0,j.k)(),b=(0,j.k)(),g=i.Ry().shape({invoiceTo:i.nK().nullable().required("Invoice to is required"),createDate:i.nK().nullable().required("Create date is required"),dueDate:i.nK().required("Due date is required").test("date-min","Due date must be later than create date",(e,t)=>{let{parent:n}=t;return e.getTime()>n.createDate.getTime()}),taxes:i.Rx(),status:i.Z_(),discount:i.Rx(),shipping:i.Rx(),invoiceFrom:i.nK(),totalAmount:i.Rx(),invoiceNumber:i.Z_()}),Z=(0,s.useMemo)(()=>({invoiceNumber:(null==t?void 0:t.invoiceNumber)||"INV-1990",createDate:(null==t?void 0:t.createDate)||new Date,dueDate:(null==t?void 0:t.dueDate)||null,taxes:(null==t?void 0:t.taxes)||0,shipping:(null==t?void 0:t.shipping)||0,status:(null==t?void 0:t.status)||"draft",discount:(null==t?void 0:t.discount)||0,invoiceFrom:(null==t?void 0:t.invoiceFrom)||u.PX[0],invoiceTo:(null==t?void 0:t.invoiceTo)||null,items:(null==t?void 0:t.items)||[{title:"",description:"",service:"",quantity:1,price:0,total:0}],totalAmount:(null==t?void 0:t.totalAmount)||0}),[t]),v=(0,r.cI)({resolver:(0,o.X)(g),defaultValues:Z}),{reset:y,handleSubmit:f,formState:{isSubmitting:w}}=v,C=f(async e=>{m.onTrue();try{await new Promise(e=>setTimeout(e,500)),y(),m.onFalse(),n.push(x.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(e,null,2))}catch(e){console.error(e),m.onFalse()}}),S=f(async e=>{b.onTrue();try{await new Promise(e=>setTimeout(e,500)),y(),b.onFalse(),n.push(x.H.dashboard.invoice.root),console.info("DATA",JSON.stringify(e,null,2))}catch(e){console.error(e),b.onFalse()}});return(0,l.jsxs)(p.ZP,{methods:v,children:[(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(I,{}),(0,l.jsx)(M,{}),(0,l.jsx)(k,{})]}),(0,l.jsxs)(d.Z,{justifyContent:"flex-end",direction:"row",spacing:2,sx:{mt:3},children:[(0,l.jsx)(a.Z,{color:"inherit",size:"large",variant:"outlined",loading:m.value&&w,onClick:C,children:"Save as Draft"}),(0,l.jsxs)(a.Z,{size:"large",variant:"contained",loading:b.value&&w,onClick:S,children:[t?"Update":"Create"," & Send"]})]})]})}},70166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var l=n(57437),s=n(88938),i=n(46843),r=n(45680),o=n(18948),a=n(34014);function c(){let e=(0,r.K$)();return(0,l.jsxs)(s.Z,{maxWidth:!e.themeStretch&&"lg",children:[(0,l.jsx)(o.Z,{heading:"Create a new invoice",links:[{name:"Dashboard",href:i.H.dashboard.root},{name:"Invoice",href:i.H.dashboard.invoice.root},{name:"New Invoice"}],sx:{mb:{xs:3,md:5}}}),(0,l.jsx)(a.Z,{})]})}},45846:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var l=n(57437),s=n(88938),i=n(46843),r=n(99998),o=n(45680),a=n(18948),c=n(2265),d=n(35843),x=n(96507),h=n(15133),u=n(73701),j=n(13457),p=n(54986),m=n(77370),b=n(66988),g=n(80470),Z=n(39279),v=n(85884),y=n(85269),f=n(15795),w=n(54695),C=n(75187),S=n(28921),D=n(1839),k=n(40872),P=n(49600),_=n(22079),G=n(78276),I=n(64494),T=n(55594),M=n(52653),R=n(42834),F=n(6882),W=n(34316),A=n(15389),z=n(94700);k.Zx.register({family:"Roboto",fonts:[{src:"/fonts/Roboto-Regular.ttf"},{src:"/fonts/Roboto-Bold.ttf"}]});let N=()=>(0,c.useMemo)(()=>k.mM.create({col4:{width:"25%"},col8:{width:"75%"},col6:{width:"50%"},mb4:{marginBottom:4},mb8:{marginBottom:8},mb40:{marginBottom:40},h3:{fontSize:16,fontWeight:700},h4:{fontSize:13,fontWeight:700},body1:{fontSize:10},body2:{fontSize:9},subtitle1:{fontSize:10,fontWeight:700},subtitle2:{fontSize:9,fontWeight:700},alignRight:{textAlign:"right"},page:{fontSize:9,lineHeight:1.6,fontFamily:"Roboto",backgroundColor:"#FFFFFF",textTransform:"capitalize",padding:"40px 24px 120px 24px"},footer:{left:0,right:0,bottom:0,padding:24,margin:"auto",borderTopWidth:1,borderStyle:"solid",position:"absolute",borderColor:"#DFE3E8"},gridContainer:{flexDirection:"row",justifyContent:"space-between"},table:{display:"flex",width:"auto"},tableRow:{padding:"8px 0",flexDirection:"row",borderBottomWidth:1,borderStyle:"solid",borderColor:"#DFE3E8"},noBorder:{paddingTop:8,paddingBottom:0,borderBottomWidth:0},tableCell_1:{width:"5%"},tableCell_2:{width:"50%",paddingRight:16},tableCell_3:{width:"15%"}}),[]);function q(e){let{invoice:t,currentStatus:n}=e,{items:s,taxes:i,dueDate:r,discount:o,shipping:a,invoiceTo:c,createDate:d,totalAmount:x,invoiceFrom:h,invoiceNumber:u,subTotal:j}=t,p=N();return(0,l.jsx)(k.BB,{children:(0,l.jsxs)(k.T3,{size:"A4",style:p.page,children:[(0,l.jsxs)(k.G7,{style:[p.gridContainer,p.mb40],children:[(0,l.jsx)(k.Ee,{source:"/logo/logo_single.png",style:{width:48,height:48}}),(0,l.jsxs)(k.G7,{style:{alignItems:"flex-end",flexDirection:"column"},children:[(0,l.jsx)(k.xv,{style:p.h3,children:n}),(0,l.jsxs)(k.xv,{children:[" ",u," "]})]})]}),(0,l.jsxs)(k.G7,{style:[p.gridContainer,p.mb40],children:[(0,l.jsxs)(k.G7,{style:p.col6,children:[(0,l.jsx)(k.xv,{style:[p.subtitle2,p.mb4],children:"Invoice from"}),(0,l.jsx)(k.xv,{style:p.body2,children:h.name}),(0,l.jsx)(k.xv,{style:p.body2,children:h.fullAddress}),(0,l.jsx)(k.xv,{style:p.body2,children:h.phoneNumber})]}),(0,l.jsxs)(k.G7,{style:p.col6,children:[(0,l.jsx)(k.xv,{style:[p.subtitle2,p.mb4],children:"Invoice to"}),(0,l.jsx)(k.xv,{style:p.body2,children:c.name}),(0,l.jsx)(k.xv,{style:p.body2,children:c.fullAddress}),(0,l.jsx)(k.xv,{style:p.body2,children:c.phoneNumber})]})]}),(0,l.jsxs)(k.G7,{style:[p.gridContainer,p.mb40],children:[(0,l.jsxs)(k.G7,{style:p.col6,children:[(0,l.jsx)(k.xv,{style:[p.subtitle2,p.mb4],children:"Date create"}),(0,l.jsx)(k.xv,{style:p.body2,children:(0,w.Mu)(d)})]}),(0,l.jsxs)(k.G7,{style:p.col6,children:[(0,l.jsx)(k.xv,{style:[p.subtitle2,p.mb4],children:"Due date"}),(0,l.jsx)(k.xv,{style:p.body2,children:(0,w.Mu)(r)})]})]}),(0,l.jsx)(k.xv,{style:[p.subtitle1,p.mb8],children:"Invoice Details"}),(0,l.jsxs)(k.G7,{style:p.table,children:[(0,l.jsx)(k.G7,{children:(0,l.jsxs)(k.G7,{style:p.tableRow,children:[(0,l.jsx)(k.G7,{style:p.tableCell_1,children:(0,l.jsx)(k.xv,{style:p.subtitle2,children:"#"})}),(0,l.jsx)(k.G7,{style:p.tableCell_2,children:(0,l.jsx)(k.xv,{style:p.subtitle2,children:"Description"})}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{style:p.subtitle2,children:"Qty"})}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{style:p.subtitle2,children:"Unit price"})}),(0,l.jsx)(k.G7,{style:[p.tableCell_3,p.alignRight],children:(0,l.jsx)(k.xv,{style:p.subtitle2,children:"Total"})})]})}),(0,l.jsxs)(k.G7,{children:[s.map((e,t)=>(0,l.jsxs)(k.G7,{style:p.tableRow,children:[(0,l.jsx)(k.G7,{style:p.tableCell_1,children:(0,l.jsx)(k.xv,{children:t+1})}),(0,l.jsxs)(k.G7,{style:p.tableCell_2,children:[(0,l.jsx)(k.xv,{style:p.subtitle2,children:e.title}),(0,l.jsx)(k.xv,{children:e.description})]}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{children:e.quantity})}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{children:e.price})}),(0,l.jsx)(k.G7,{style:[p.tableCell_3,p.alignRight],children:(0,l.jsx)(k.xv,{children:(0,C.e_)(e.price*e.quantity)})})]},e.id)),(0,l.jsxs)(k.G7,{style:[p.tableRow,p.noBorder],children:[(0,l.jsx)(k.G7,{style:p.tableCell_1}),(0,l.jsx)(k.G7,{style:p.tableCell_2}),(0,l.jsx)(k.G7,{style:p.tableCell_3}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{children:"Subtotal"})}),(0,l.jsx)(k.G7,{style:[p.tableCell_3,p.alignRight],children:(0,l.jsx)(k.xv,{children:(0,C.e_)(j)})})]}),(0,l.jsxs)(k.G7,{style:[p.tableRow,p.noBorder],children:[(0,l.jsx)(k.G7,{style:p.tableCell_1}),(0,l.jsx)(k.G7,{style:p.tableCell_2}),(0,l.jsx)(k.G7,{style:p.tableCell_3}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{children:"Shipping"})}),(0,l.jsx)(k.G7,{style:[p.tableCell_3,p.alignRight],children:(0,l.jsx)(k.xv,{children:(0,C.e_)(-a)})})]}),(0,l.jsxs)(k.G7,{style:[p.tableRow,p.noBorder],children:[(0,l.jsx)(k.G7,{style:p.tableCell_1}),(0,l.jsx)(k.G7,{style:p.tableCell_2}),(0,l.jsx)(k.G7,{style:p.tableCell_3}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{children:"Discount"})}),(0,l.jsx)(k.G7,{style:[p.tableCell_3,p.alignRight],children:(0,l.jsx)(k.xv,{children:(0,C.e_)(-o)})})]}),(0,l.jsxs)(k.G7,{style:[p.tableRow,p.noBorder],children:[(0,l.jsx)(k.G7,{style:p.tableCell_1}),(0,l.jsx)(k.G7,{style:p.tableCell_2}),(0,l.jsx)(k.G7,{style:p.tableCell_3}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{children:"Taxes"})}),(0,l.jsx)(k.G7,{style:[p.tableCell_3,p.alignRight],children:(0,l.jsx)(k.xv,{children:(0,C.e_)(i)})})]}),(0,l.jsxs)(k.G7,{style:[p.tableRow,p.noBorder],children:[(0,l.jsx)(k.G7,{style:p.tableCell_1}),(0,l.jsx)(k.G7,{style:p.tableCell_2}),(0,l.jsx)(k.G7,{style:p.tableCell_3}),(0,l.jsx)(k.G7,{style:p.tableCell_3,children:(0,l.jsx)(k.xv,{style:p.h4,children:"Total"})}),(0,l.jsx)(k.G7,{style:[p.tableCell_3,p.alignRight],children:(0,l.jsx)(k.xv,{style:p.h4,children:(0,C.e_)(x)})})]})]})]}),(0,l.jsxs)(k.G7,{style:[p.gridContainer,p.footer],fixed:!0,children:[(0,l.jsxs)(k.G7,{style:p.col8,children:[(0,l.jsx)(k.xv,{style:p.subtitle2,children:"NOTES"}),(0,l.jsx)(k.xv,{children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,l.jsxs)(k.G7,{style:[p.col4,p.alignRight],children:[(0,l.jsx)(k.xv,{style:p.subtitle2,children:"Have a Question?"}),(0,l.jsx)(k.xv,{children:"support@abcapp.com"})]})]})]})})}function O(e){let{invoice:t,currentStatus:n,statusOptions:s,onChangeStatus:r}=e,o=(0,W.tv)(),a=(0,A.k)(),d=(0,c.useCallback)(()=>{o.push(i.H.dashboard.invoice.edit(t.id))},[t.id,o]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(j.Z,{spacing:3,direction:{xs:"column",sm:"row"},alignItems:{xs:"flex-end",sm:"center"},sx:{mb:{xs:3,md:5}},children:[(0,l.jsxs)(j.Z,{direction:"row",spacing:1,flexGrow:1,sx:{width:1},children:[(0,l.jsx)(G.Z,{title:"Edit",children:(0,l.jsx)(M.Z,{onClick:d,children:(0,l.jsx)(z.Z,{icon:"solar:pen-bold"})})}),(0,l.jsx)(G.Z,{title:"View",children:(0,l.jsx)(M.Z,{onClick:a.onTrue,children:(0,l.jsx)(z.Z,{icon:"solar:eye-bold"})})}),(0,l.jsx)(k.WD,{document:(0,l.jsx)(q,{invoice:t,currentStatus:n}),fileName:t.invoiceNumber,style:{textDecoration:"none"},children:e=>{let{loading:t}=e;return(0,l.jsx)(G.Z,{title:"Download",children:(0,l.jsx)(M.Z,{children:t?(0,l.jsx)(F.Z,{size:24,color:"inherit"}):(0,l.jsx)(z.Z,{icon:"eva:cloud-download-fill"})})})}}),(0,l.jsx)(G.Z,{title:"Print",children:(0,l.jsx)(M.Z,{children:(0,l.jsx)(z.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,l.jsx)(G.Z,{title:"Send",children:(0,l.jsx)(M.Z,{children:(0,l.jsx)(z.Z,{icon:"iconamoon:send-fill"})})}),(0,l.jsx)(G.Z,{title:"Share",children:(0,l.jsx)(M.Z,{children:(0,l.jsx)(z.Z,{icon:"solar:share-bold"})})})]}),(0,l.jsx)(T.Z,{fullWidth:!0,select:!0,label:"Status",value:n,onChange:r,sx:{maxWidth:160},children:s.map(e=>(0,l.jsx)(I.Z,{value:e.value,children:e.label},e.value))})]}),(0,l.jsx)(_.Z,{fullScreen:!0,open:a.value,children:(0,l.jsxs)(x.Z,{sx:{height:1,display:"flex",flexDirection:"column"},children:[(0,l.jsx)(R.Z,{sx:{p:1.5},children:(0,l.jsx)(P.Z,{color:"inherit",variant:"contained",onClick:a.onFalse,children:"Close"})}),(0,l.jsx)(x.Z,{sx:{flexGrow:1,height:1,overflow:"hidden"},children:(0,l.jsx)(k.Z$,{width:"100%",height:"100%",style:{border:"none"},children:(0,l.jsx)(q,{invoice:t,currentStatus:n})})})]})})]})}let B=(0,d.ZP)(m.Z)(e=>{let{theme:t}=e;return{"& td":{textAlign:"right",borderBottom:"none",paddingTop:t.spacing(1),paddingBottom:t.spacing(1)}}});function E(e){let{invoice:t}=e,[n,s]=(0,c.useState)(t.status),i=(0,c.useCallback)(e=>{s(e.target.value)},[]),o=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(B,{children:[(0,l.jsx)(g.Z,{colSpan:3}),(0,l.jsxs)(g.Z,{sx:{color:"text.secondary"},children:[(0,l.jsx)(x.Z,{sx:{mt:2}}),"Subtotal"]}),(0,l.jsxs)(g.Z,{width:120,sx:{typography:"subtitle2"},children:[(0,l.jsx)(x.Z,{sx:{mt:2}}),(0,C.e_)(t.subTotal)]})]}),(0,l.jsxs)(B,{children:[(0,l.jsx)(g.Z,{colSpan:3}),(0,l.jsx)(g.Z,{sx:{color:"text.secondary"},children:"Shipping"}),(0,l.jsx)(g.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,C.e_)(-t.shipping)})]}),(0,l.jsxs)(B,{children:[(0,l.jsx)(g.Z,{colSpan:3}),(0,l.jsx)(g.Z,{sx:{color:"text.secondary"},children:"Discount"}),(0,l.jsx)(g.Z,{width:120,sx:{color:"error.main",typography:"body2"},children:(0,C.e_)(-t.discount)})]}),(0,l.jsxs)(B,{children:[(0,l.jsx)(g.Z,{colSpan:3}),(0,l.jsx)(g.Z,{sx:{color:"text.secondary"},children:"Taxes"}),(0,l.jsx)(g.Z,{width:120,children:(0,C.e_)(t.taxes)})]}),(0,l.jsxs)(B,{children:[(0,l.jsx)(g.Z,{colSpan:3}),(0,l.jsx)(g.Z,{sx:{typography:"subtitle1"},children:"Total"}),(0,l.jsx)(g.Z,{width:140,sx:{typography:"subtitle1"},children:(0,C.e_)(t.totalAmount)})]})]}),a=(0,l.jsxs)(v.Z,{container:!0,children:[(0,l.jsxs)(v.Z,{xs:12,md:9,sx:{py:3},children:[(0,l.jsx)(y.Z,{variant:"subtitle2",children:"NOTES"}),(0,l.jsx)(y.Z,{variant:"body2",children:"We appreciate your business. Should you need us to add VAT or extra notes let us know!"})]}),(0,l.jsxs)(v.Z,{xs:12,md:3,sx:{py:3,textAlign:"right"},children:[(0,l.jsx)(y.Z,{variant:"subtitle2",children:"Have a Question?"}),(0,l.jsx)(y.Z,{variant:"body2",children:"support@adamlevy.ca"})]})]}),d=(0,l.jsx)(f.Z,{sx:{overflow:"unset",mt:5},children:(0,l.jsx)(D.Z,{children:(0,l.jsxs)(u.Z,{sx:{minWidth:960},children:[(0,l.jsx)(b.Z,{children:(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(g.Z,{width:40,children:"#"}),(0,l.jsx)(g.Z,{sx:{typography:"subtitle2"},children:"Description"}),(0,l.jsx)(g.Z,{children:"Qty"}),(0,l.jsx)(g.Z,{align:"right",children:"Unit price"}),(0,l.jsx)(g.Z,{align:"right",children:"Total"})]})}),(0,l.jsxs)(Z.Z,{children:[t.items.map((e,t)=>(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(g.Z,{children:t+1}),(0,l.jsx)(g.Z,{children:(0,l.jsxs)(x.Z,{sx:{maxWidth:560},children:[(0,l.jsx)(y.Z,{variant:"subtitle2",children:e.title}),(0,l.jsx)(y.Z,{variant:"body2",sx:{color:"text.secondary"},noWrap:!0,children:e.description})]})}),(0,l.jsx)(g.Z,{children:e.quantity}),(0,l.jsx)(g.Z,{align:"right",children:(0,C.e_)(e.price)}),(0,l.jsx)(g.Z,{align:"right",children:(0,C.e_)(e.price*e.quantity)})]},t)),o]})]})})});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(O,{invoice:t,currentStatus:n||"",onChangeStatus:i,statusOptions:r.Dp}),(0,l.jsxs)(h.Z,{sx:{pt:5,px:5},children:[(0,l.jsxs)(x.Z,{rowGap:5,display:"grid",alignItems:"center",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[(0,l.jsx)(x.Z,{component:"img",alt:"logo",src:"/logo/logo_single.svg",sx:{width:48,height:48}}),(0,l.jsxs)(j.Z,{spacing:1,alignItems:{xs:"flex-start",md:"flex-end"},children:[(0,l.jsx)(S.Z,{variant:"soft",color:"paid"===n&&"success"||"pending"===n&&"warning"||"overdue"===n&&"error"||"default",children:n}),(0,l.jsx)(y.Z,{variant:"h6",children:t.invoiceNumber})]}),(0,l.jsxs)(j.Z,{sx:{typography:"body2"},children:[(0,l.jsx)(y.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice From"}),t.invoiceFrom.name,(0,l.jsx)("br",{}),t.invoiceFrom.fullAddress,(0,l.jsx)("br",{}),"Phone: ",t.invoiceFrom.phoneNumber,(0,l.jsx)("br",{})]}),(0,l.jsxs)(j.Z,{sx:{typography:"body2"},children:[(0,l.jsx)(y.Z,{variant:"subtitle2",sx:{mb:1},children:"Invoice To"}),t.invoiceTo.name,(0,l.jsx)("br",{}),t.invoiceTo.fullAddress,(0,l.jsx)("br",{}),"Phone: ",t.invoiceTo.phoneNumber,(0,l.jsx)("br",{})]}),(0,l.jsxs)(j.Z,{sx:{typography:"body2"},children:[(0,l.jsx)(y.Z,{variant:"subtitle2",sx:{mb:1},children:"Date Create"}),(0,w.Mu)(t.createDate)]}),(0,l.jsxs)(j.Z,{sx:{typography:"body2"},children:[(0,l.jsx)(y.Z,{variant:"subtitle2",sx:{mb:1},children:"Due Date"}),(0,w.Mu)(t.dueDate)]})]}),d,(0,l.jsx)(p.Z,{sx:{mt:5,borderStyle:"dashed"}}),a]})]})}function H(e){let{id:t}=e,n=(0,o.K$)(),c=r.Ot.filter(e=>e.id===t)[0];return(0,l.jsxs)(s.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,l.jsx)(a.Z,{heading:null==c?void 0:c.invoiceNumber,links:[{name:"Dashboard",href:i.H.dashboard.root},{name:"Invoice",href:i.H.dashboard.invoice.root},{name:null==c?void 0:c.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,l.jsx)(E,{invoice:c})]})}},36152:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var l=n(57437),s=n(88938),i=n(46843),r=n(99998),o=n(45680),a=n(18948),c=n(34014);function d(e){let{id:t}=e,n=(0,o.K$)(),d=r.Ot.find(e=>e.id===t);return(0,l.jsxs)(s.Z,{maxWidth:!n.themeStretch&&"lg",children:[(0,l.jsx)(a.Z,{heading:"Edit",links:[{name:"Dashboard",href:i.H.dashboard.root},{name:"Invoice",href:i.H.dashboard.invoice.root},{name:null==d?void 0:d.invoiceNumber}],sx:{mb:{xs:3,md:5}}}),(0,l.jsx)(c.Z,{currentInvoice:d})]})}},55170:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ed}});var l=n(57437),s=n(44840),i=n.n(s),r=n(2265),o=n(41101),a=n(89975),c=n(55303),d=n(25738),x=n(15133),h=n(73701),u=n(13457),j=n(49600),p=n(54986),m=n(78276),b=n(88938),g=n(39279),Z=n(52653),v=n(15795),y=n(46843),f=n(34316),w=n(12040),C=n(15389),S=n(54695),D=n(99998),k=n(28921),P=n(94700),_=n(1839),G=n(51848),I=n(45680),T=n(18948),M=n(38788),R=n(96507),F=n(85269),W=n(6882),A=n(75187);function z(e){let{title:t,total:n,icon:s,color:i,percent:r,price:o}=e;return(0,l.jsxs)(u.Z,{spacing:2.5,direction:"row",alignItems:"center",justifyContent:"center",sx:{width:1,minWidth:200},children:[(0,l.jsxs)(u.Z,{alignItems:"center",justifyContent:"center",sx:{position:"relative"},children:[(0,l.jsx)(P.Z,{icon:s,width:32,sx:{color:i,position:"absolute"}}),(0,l.jsx)(W.Z,{variant:"determinate",value:r,size:56,thickness:2,sx:{color:i,opacity:.48}}),(0,l.jsx)(W.Z,{variant:"determinate",value:100,size:56,thickness:3,sx:{top:0,left:0,opacity:.48,position:"absolute",color:e=>(0,a.Fq)(e.palette.grey[500],.16)}})]}),(0,l.jsxs)(u.Z,{spacing:.5,children:[(0,l.jsx)(F.Z,{variant:"subtitle1",children:t}),(0,l.jsxs)(R.Z,{component:"span",sx:{color:"text.disabled",typography:"body2"},children:[(0,A.v1)(n)," invoices"]}),(0,l.jsx)(F.Z,{variant:"subtitle2",children:(0,A.e_)(o)})]})]})}var N=n(76259),q=n(25210),O=n(210),B=n(64494),E=n(77370),H=n(16171),L=n(80470),Q=n(38212),$=n(9359);function K(e){let{row:t,selected:n,onSelectRow:s,onViewRow:i,onEditRow:r,onDeleteRow:o}=e,{sent:a,invoiceNumber:c,createDate:d,dueDate:x,status:h,invoiceTo:u,totalAmount:m}=t,b=(0,C.k)(),g=(0,$.S)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(E.Z,{hover:!0,selected:n,children:[(0,l.jsx)(L.Z,{padding:"checkbox",children:(0,l.jsx)(H.Z,{checked:n,onClick:s})}),(0,l.jsxs)(L.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,l.jsx)(O.Z,{alt:u.name,sx:{mr:2},children:u.name.charAt(0).toUpperCase()}),(0,l.jsx)(Q.Z,{disableTypography:!0,primary:(0,l.jsx)(F.Z,{variant:"body2",noWrap:!0,children:u.name}),secondary:(0,l.jsx)(q.Z,{noWrap:!0,variant:"body2",onClick:i,sx:{color:"text.disabled",cursor:"pointer"},children:c})})]}),(0,l.jsx)(L.Z,{children:(0,l.jsx)(Q.Z,{primary:(0,N.Z)(new Date(d),"dd MMM yyyy"),secondary:(0,N.Z)(new Date(d),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,l.jsx)(L.Z,{children:(0,l.jsx)(Q.Z,{primary:(0,N.Z)(new Date(x),"dd MMM yyyy"),secondary:(0,N.Z)(new Date(x),"p"),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),(0,l.jsx)(L.Z,{children:(0,A.e_)(m)}),(0,l.jsx)(L.Z,{align:"center",children:a}),(0,l.jsx)(L.Z,{children:(0,l.jsx)(k.Z,{variant:"soft",color:"paid"===h&&"success"||"pending"===h&&"warning"||"overdue"===h&&"error"||"default",children:h})}),(0,l.jsx)(L.Z,{align:"right",sx:{px:1},children:(0,l.jsx)(Z.Z,{color:g.open?"inherit":"default",onClick:g.onOpen,children:(0,l.jsx)(P.Z,{icon:"eva:more-vertical-fill"})})})]}),(0,l.jsxs)($.Z,{open:g.open,onClose:g.onClose,arrow:"right-top",sx:{width:160},children:[(0,l.jsxs)(B.Z,{onClick:()=>{i(),g.onClose()},children:[(0,l.jsx)(P.Z,{icon:"solar:eye-bold"}),"View"]}),(0,l.jsxs)(B.Z,{onClick:()=>{r(),g.onClose()},children:[(0,l.jsx)(P.Z,{icon:"solar:pen-bold"}),"Edit"]}),(0,l.jsx)(p.Z,{sx:{borderStyle:"dashed"}}),(0,l.jsxs)(B.Z,{onClick:()=>{b.onTrue(),g.onClose()},sx:{color:"error.main"},children:[(0,l.jsx)(P.Z,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),(0,l.jsx)(G.Q,{open:b.value,onClose:b.onFalse,title:"Delete",content:"Are you sure want to delete?",action:(0,l.jsx)(j.Z,{variant:"contained",color:"error",onClick:o,children:"Delete"})})]})}var V=n(76737),U=n(55594),X=n(35009),J=n(84081),Y=n(81679),ee=n(90923),et=n(10654);function en(e){let{filters:t,onFilters:n,dateError:s,serviceOptions:i}=e,o=(0,$.S)(),a=(0,r.useCallback)(e=>{n("name",e.target.value)},[n]),c=(0,r.useCallback)(e=>{n("service","string"==typeof e.target.value?e.target.value.split(","):e.target.value)},[n]),d=(0,r.useCallback)(e=>{n("startDate",e)},[n]),x=(0,r.useCallback)(e=>{n("endDate",e)},[n]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(u.Z,{spacing:2,alignItems:{xs:"flex-end",md:"center"},direction:{xs:"column",md:"row"},sx:{p:2.5,pr:{xs:2.5,md:1}},children:[(0,l.jsxs)(J.Z,{sx:{flexShrink:0,width:{xs:1,md:180}},children:[(0,l.jsx)(X.Z,{children:"Service"}),(0,l.jsx)(et.Z,{multiple:!0,value:t.service,onChange:c,input:(0,l.jsx)(ee.Z,{label:"Service"}),renderValue:e=>e.map(e=>e).join(", "),sx:{textTransform:"capitalize"},children:i.map(e=>(0,l.jsxs)(B.Z,{value:e,children:[(0,l.jsx)(H.Z,{disableRipple:!0,size:"small",checked:t.service.includes(e)}),e]},e))})]}),(0,l.jsx)(V.M,{label:"Start date",value:t.startDate,onChange:d,slotProps:{textField:{fullWidth:!0}},sx:{maxWidth:{md:180}}}),(0,l.jsx)(V.M,{label:"End date",value:t.endDate,onChange:x,slotProps:{textField:{fullWidth:!0,error:s}},sx:{maxWidth:{md:180}}}),(0,l.jsxs)(u.Z,{direction:"row",alignItems:"center",spacing:2,flexGrow:1,sx:{width:1},children:[(0,l.jsx)(U.Z,{fullWidth:!0,value:t.name,onChange:a,placeholder:"Search customer or invoice number...",InputProps:{startAdornment:(0,l.jsx)(Y.Z,{position:"start",children:(0,l.jsx)(P.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),(0,l.jsx)(Z.Z,{onClick:o.onOpen,children:(0,l.jsx)(P.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,l.jsxs)($.Z,{open:o.open,onClose:o.onClose,arrow:"right-top",sx:{width:140},children:[(0,l.jsxs)(B.Z,{onClick:()=>{o.onClose()},children:[(0,l.jsx)(P.Z,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),(0,l.jsxs)(B.Z,{onClick:()=>{o.onClose()},children:[(0,l.jsx)(P.Z,{icon:"solar:import-bold"}),"Import"]}),(0,l.jsxs)(B.Z,{onClick:()=>{o.onClose()},children:[(0,l.jsx)(P.Z,{icon:"solar:export-bold"}),"Export"]})]})]})}var el=n(86836),es=n(14486),ei=n(30926);function er(e){let{filters:t,onFilters:n,onResetFilters:s,results:i,...r}=e,o=(0,ei.l2)(t.startDate,t.endDate),a=e=>{let l=t.service.filter(t=>t!==e);n("service",l)};return(0,l.jsxs)(u.Z,{spacing:1.5,...r,children:[(0,l.jsxs)(R.Z,{sx:{typography:"body2"},children:[(0,l.jsx)("strong",{children:i}),(0,l.jsx)(R.Z,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),(0,l.jsxs)(u.Z,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.service.length&&(0,l.jsx)(eo,{label:"Service:",children:t.service.map(e=>(0,l.jsx)(el.Z,{label:e,size:"small",onDelete:()=>a(e)},e))}),"all"!==t.status&&(0,l.jsx)(eo,{label:"Status:",children:(0,l.jsx)(el.Z,{size:"small",label:t.status,onDelete:()=>{n("status","all")}})}),t.startDate&&t.endDate&&(0,l.jsx)(eo,{label:"Date:",children:(0,l.jsx)(el.Z,{size:"small",label:o,onDelete:()=>{n("startDate",null),n("endDate",null)}})}),(0,l.jsx)(j.Z,{color:"error",onClick:s,startIcon:(0,l.jsx)(P.Z,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function eo(e){let{label:t,children:n,sx:s,...i}=e;return(0,l.jsxs)(u.Z,{component:es.Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...s},children:[(0,l.jsx)(R.Z,{component:"span",sx:{typography:"subtitle2"},children:t}),(0,l.jsx)(u.Z,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}let ea=[{id:"invoiceNumber",label:"Customer"},{id:"createDate",label:"Create"},{id:"dueDate",label:"Due"},{id:"price",label:"Amount"},{id:"sent",label:"Sent",align:"center"},{id:"status",label:"Status"},{id:""}],ec={name:"",service:[],status:"all",startDate:null,endDate:null};function ed(){let e=(0,o.Z)(),t=(0,I.K$)(),n=(0,f.tv)(),s=(0,M.x6)({defaultOrderBy:"createDate"}),R=(0,C.k)(),[F,W]=(0,r.useState)(D.Ot),[A,N]=(0,r.useState)(ec),q=!!A.startDate&&!!A.endDate&&A.startDate.getTime()>A.endDate.getTime(),O=function(e){let{inputData:t,comparator:n,filters:l,dateError:s}=e,{name:i,status:r,service:o,startDate:a,endDate:c}=l,d=t.map((e,t)=>[e,t]);return d.sort((e,t)=>{let l=n(e[0],t[0]);return 0!==l?l:e[1]-t[1]}),t=d.map(e=>e[0]),i&&(t=t.filter(e=>-1!==e.invoiceNumber.toLowerCase().indexOf(i.toLowerCase())||-1!==e.invoiceTo.name.toLowerCase().indexOf(i.toLowerCase()))),"all"!==r&&(t=t.filter(e=>e.status===r)),o.length&&(t=t.filter(e=>e.items.some(e=>o.includes(e.service)))),!s&&a&&c&&(t=t.filter(e=>(0,S.IO)(e.createDate)>=(0,S.IO)(a)&&(0,S.IO)(e.createDate)<=(0,S.IO)(c))),t}({inputData:F,comparator:(0,M.sQ)(s.order,s.orderBy),filters:A,dateError:q}),B=O.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage),E=s.dense?56:76,H=!!A.name||!!A.service.length||"all"!==A.status||!!A.startDate&&!!A.endDate,L=!O.length&&H||!O.length,Q=e=>F.filter(t=>t.status===e).length,$=e=>i()(F.filter(t=>t.status===e),"totalAmount"),V=e=>Q(e)/F.length*100,U=[{value:"all",label:"All",color:"default",count:F.length},{value:"paid",label:"Paid",color:"success",count:Q("paid")},{value:"pending",label:"Pending",color:"warning",count:Q("pending")},{value:"overdue",label:"Overdue",color:"error",count:Q("overdue")},{value:"draft",label:"Draft",color:"default",count:Q("draft")}],X=(0,r.useCallback)((e,t)=>{s.onResetPage(),N(n=>({...n,[e]:t}))},[s]),J=(0,r.useCallback)(e=>{let t=F.filter(t=>t.id!==e);W(t),s.onUpdatePageDeleteRow(B.length)},[B.length,s,F]),Y=(0,r.useCallback)(()=>{let e=F.filter(e=>!s.selected.includes(e.id));W(e),s.onUpdatePageDeleteRows({totalRows:F.length,totalRowsInPage:B.length,totalRowsFiltered:O.length})},[O.length,B.length,s,F]),ee=(0,r.useCallback)(e=>{n.push(y.H.dashboard.invoice.edit(e))},[n]),et=(0,r.useCallback)(e=>{n.push(y.H.dashboard.invoice.details(e))},[n]),el=(0,r.useCallback)((e,t)=>{X("status",t)},[X]),es=(0,r.useCallback)(()=>{N(ec)},[]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(b.Z,{maxWidth:!t.themeStretch&&"lg",children:[(0,l.jsx)(T.Z,{heading:"List",links:[{name:"Dashboard",href:y.H.dashboard.root},{name:"Invoice",href:y.H.dashboard.invoice.root},{name:"List"}],action:(0,l.jsx)(j.Z,{component:w.r,href:y.H.dashboard.invoice.new,variant:"contained",startIcon:(0,l.jsx)(P.Z,{icon:"mingcute:add-line"}),children:"New Invoice"}),sx:{mb:{xs:3,md:5}}}),(0,l.jsx)(x.Z,{sx:{mb:{xs:3,md:5}},children:(0,l.jsx)(_.Z,{children:(0,l.jsxs)(u.Z,{direction:"row",divider:(0,l.jsx)(p.Z,{orientation:"vertical",flexItem:!0,sx:{borderStyle:"dashed"}}),sx:{py:2},children:[(0,l.jsx)(z,{title:"Total",total:F.length,percent:100,price:i()(F,"totalAmount"),icon:"solar:bill-list-bold-duotone",color:e.palette.info.main}),(0,l.jsx)(z,{title:"Paid",total:Q("paid"),percent:V("paid"),price:$("paid"),icon:"solar:file-check-bold-duotone",color:e.palette.success.main}),(0,l.jsx)(z,{title:"Pending",total:Q("pending"),percent:V("pending"),price:$("pending"),icon:"solar:sort-by-time-bold-duotone",color:e.palette.warning.main}),(0,l.jsx)(z,{title:"Overdue",total:Q("overdue"),percent:V("overdue"),price:$("overdue"),icon:"solar:bell-bing-bold-duotone",color:e.palette.error.main}),(0,l.jsx)(z,{title:"Draft",total:Q("draft"),percent:V("draft"),price:$("draft"),icon:"solar:file-corrupted-bold-duotone",color:e.palette.text.secondary})]})})}),(0,l.jsxs)(x.Z,{children:[(0,l.jsx)(d.Z,{value:A.status,onChange:el,sx:{px:2.5,boxShadow:"inset 0 -2px 0 0 ".concat((0,a.Fq)(e.palette.grey[500],.08))},children:U.map(e=>(0,l.jsx)(c.Z,{value:e.value,label:e.label,iconPosition:"end",icon:(0,l.jsx)(k.Z,{variant:("all"===e.value||e.value===A.status)&&"filled"||"soft",color:e.color,children:e.count})},e.value))}),(0,l.jsx)(en,{filters:A,onFilters:X,dateError:q,serviceOptions:D.PI.map(e=>e.name)}),H&&(0,l.jsx)(er,{filters:A,onFilters:X,onResetFilters:es,results:O.length,sx:{p:2.5,pt:0}}),(0,l.jsxs)(v.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,l.jsx)(M.Z4,{dense:s.dense,numSelected:s.selected.length,rowCount:F.length,onSelectAllRows:e=>s.onSelectAllRows(e,F.map(e=>e.id)),action:(0,l.jsxs)(u.Z,{direction:"row",children:[(0,l.jsx)(m.Z,{title:"Sent",children:(0,l.jsx)(Z.Z,{color:"primary",children:(0,l.jsx)(P.Z,{icon:"iconamoon:send-fill"})})}),(0,l.jsx)(m.Z,{title:"Download",children:(0,l.jsx)(Z.Z,{color:"primary",children:(0,l.jsx)(P.Z,{icon:"eva:download-outline"})})}),(0,l.jsx)(m.Z,{title:"Print",children:(0,l.jsx)(Z.Z,{color:"primary",children:(0,l.jsx)(P.Z,{icon:"solar:printer-minimalistic-bold"})})}),(0,l.jsx)(m.Z,{title:"Delete",children:(0,l.jsx)(Z.Z,{color:"primary",onClick:R.onTrue,children:(0,l.jsx)(P.Z,{icon:"solar:trash-bin-trash-bold"})})})]})}),(0,l.jsx)(_.Z,{children:(0,l.jsxs)(h.Z,{size:s.dense?"small":"medium",sx:{minWidth:800},children:[(0,l.jsx)(M.K,{order:s.order,orderBy:s.orderBy,headLabel:ea,rowCount:F.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:e=>s.onSelectAllRows(e,F.map(e=>e.id))}),(0,l.jsxs)(g.Z,{children:[O.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map(e=>(0,l.jsx)(K,{row:e,selected:s.selected.includes(e.id),onSelectRow:()=>s.onSelectRow(e.id),onViewRow:()=>et(e.id),onEditRow:()=>ee(e.id),onDeleteRow:()=>J(e.id)},e.id)),(0,l.jsx)(M.$W,{height:E,emptyRows:(0,M.fQ)(s.page,s.rowsPerPage,F.length)}),(0,l.jsx)(M.et,{notFound:L})]})]})})]}),(0,l.jsx)(M.S_,{count:O.length,page:s.page,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,onRowsPerPageChange:s.onChangeRowsPerPage,dense:s.dense,onChangeDense:s.onChangeDense})]})]}),(0,l.jsx)(G.Q,{open:R.value,onClose:R.onFalse,title:"Delete",content:(0,l.jsxs)(l.Fragment,{children:["Are you sure want to delete ",(0,l.jsxs)("strong",{children:[" ",s.selected.length," "]})," items?"]}),action:(0,l.jsx)(j.Z,{variant:"contained",color:"error",onClick:()=>{Y(),R.onFalse()},children:"Delete"})})]})}},54695:function(e,t,n){"use strict";n.d(t,{DY:function(){return c},IO:function(){return a},Mu:function(){return r},zM:function(){return o}});var l=n(76259),s=n(41999),i=n(77504);function r(e,t){let n=t||"dd MMM yyyy";return e?(0,l.Z)(new Date(e),n):""}function o(e,t){let n=t||"dd MMM yyyy p";return e?(0,l.Z)(new Date(e),n):""}function a(e){return e?(0,s.Z)(new Date(e)):""}function c(e){return e?(0,i.Z)(new Date(e),{addSuffix:!0}):""}}}]);