(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7770],{11368:function(e,t,r){Promise.resolve().then(r.bind(r,57))},9256:function(e,t,r){"use strict";r.d(t,{z:function(){return x},Z:function(){return i}});var n=r(57437),s=r(89975),a=r(96507),o=r(13457);function i(e){let{colors:t,limit:r=3,sx:i}=e,l=t.slice(0,r),c=t.length-r;return(0,n.jsxs)(o.Z,{component:"span",direction:"row",alignItems:"center",justifyContent:"flex-end",sx:i,children:[l.map((e,t)=>(0,n.jsx)(a.Z,{sx:{ml:-.75,width:16,height:16,bgcolor:e,borderRadius:"50%",border:e=>"solid 2px ".concat(e.palette.background.paper),boxShadow:e=>"inset -1px 1px 2px ".concat((0,s.Fq)(e.palette.common.black,.24))}},e+t)),t.length>r&&(0,n.jsx)(a.Z,{component:"span",sx:{typography:"subtitle2"},children:"+".concat(c)})]})}var l=r(2265),c=r(45295),d=r(94700);let u=(0,l.forwardRef)((e,t)=>{let{colors:r,selected:a,onSelectColor:i,limit:u="auto",sx:x,...h}=e,p="string"==typeof a,E=(0,l.useCallback)(e=>{if(p)e!==a&&i(e);else{let t=a.includes(e)?a.filter(t=>t!==e):[...a,e];i(t)}},[i,a,p]);return(0,n.jsx)(o.Z,{ref:t,direction:"row",display:"inline-flex",sx:{flexWrap:"wrap",..."auto"!==u&&{width:36*u,justifyContent:"flex-end"},...x},children:r.map(e=>{let t=p?a===e:a.includes(e);return(0,n.jsx)(c.Z,{sx:{width:36,height:36,borderRadius:"50%"},onClick:()=>{E(e)},children:(0,n.jsx)(o.Z,{alignItems:"center",justifyContent:"center",sx:{width:20,height:20,bgcolor:e,borderRadius:"50%",border:e=>"solid 1px ".concat((0,s.Fq)(e.palette.grey[500],.16)),...t&&{transform:"scale(1.3)",boxShadow:"4px 4px 8px 0 ".concat((0,s.Fq)(e,.48)),outline:"solid 2px ".concat((0,s.Fq)(e,.08)),transition:e=>e.transitions.create("all",{duration:e.transitions.duration.shortest})}},children:(0,n.jsx)(d.Z,{width:t?12:0,icon:"eva:checkmark-fill",sx:{color:t=>t.palette.getContrastText(e),transition:e=>e.transitions.create("all",{duration:e.transitions.duration.shortest})}})})},e)})})});var x=u},57:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var n=r(57437),s=r(2265),a=r(96507),o=r(88938),i=r(22301),l=r(13457),c=r(85269),d=r(62039),u=r(90250),x=r(55594),h=r(49600),p=r(20477),E=r(35691),g=r(29222),C=r(22225),f=r(9256);let y=["#00AB55","#1890FF","#54D62C","#FFC107","#FF4842","#04297A","#7A0C2E","#FF0000","#00FF00","#0000FF","#00A76F","#8E33FF","#00B8D9","#22C55E","#FFAB00","#FF5630","#78070A","#5119B7","#cc66ff","#666633","#333366","#66ffff","#66ff8c","#ff66ff","#ff6666","#71c8f4","#002233","#C684FF","#065E49","#B71D18"],j={expenseCategory:"",color:"",submitting:!1},m=(e,t)=>{switch(t.type){case"SUBMIT":return{submitting:!0};case"SUCCESS":return{submitting:!1};case"RESET":return t.values;case"ERROR":return{submitting:!1,submitError:t.error};default:return e}},S=s.forwardRef((e,t)=>(0,n.jsx)(u.Z,{elevation:6,ref:t,variant:"filled",...e}));function Z(e){let{setCategories:t}=e,[r,a]=(0,s.useState)("#00AB55"),[o,u]=(0,s.useState)(!1),[Z,R]=(0,s.useState)(!1),[F,T]=(0,s.useReducer)(m,j),b=async e=>{e.color=r,T({type:"SUBMIT"});try{await g.Z.post("".concat("http://localhost:4000","/expense-category"),e),T({type:"SUCCESS"}),T({type:"RESET",values:j}),u(!0),g.Z.get("".concat("http://localhost:4000","/expense-category")).then(e=>{t(e.data)}).catch(e=>{console.error("Error fetching categories:",e)})}catch(e){T({type:"ERROR",error:e.message}),R(!0)}},v=E.Ry().shape({expenseCategory:E.Z_().required("Required").min(3,"Enter at least 3 characters").max(100,"Enter at least 100 characters"),color:E.Z_().when("selectedColor",(e,t)=>e?t:t.required("Required")).min(3,"Enter at least 3 characters").max(20,"Enter at least 100 characters")}),_=e=>{a(t=>e)},w=()=>{u(!1),R(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(l.Z,{component:C.DG,spacing:5,children:[(0,n.jsx)(i.m.div,{variants:(0,C.EU)().inUp,children:(0,n.jsx)(c.Z,{variant:"h3",children:"Create Expense Category"})}),(0,n.jsx)(p.J9,{validationSchema:v,initialValues:j,onSubmit:(e,t)=>{let{resetForm:r}=t;b(e),r()},children:e=>{let{handleChange:t,handleBlur:s,values:a,errors:o,touched:c,handleSubmit:d,setFieldTouched:u,resetForm:E}=e;return(0,n.jsxs)("form",{onSubmit:d,children:[(0,n.jsxs)(l.Z,{spacing:3,children:[(0,n.jsx)(i.m.div,{variants:(0,C.EU)().inUp,children:(0,n.jsx)(x.Z,{label:"Expense Category",name:"expenseCategory",margin:"normal",variant:"outlined",onChange:t("expenseCategory"),style:{width:"100%",zIndex:0},value:a.expenseCategory,onBlur:s("expenseCategory"),error:c.expenseCategory&&!!o.expenseCategory,helperText:c.expenseCategory&&o.expenseCategory})}),(0,n.jsxs)(i.m.div,{variants:(0,C.EU)().inUp,children:[(0,n.jsx)(f.Z,{colors:y}),(0,n.jsx)(f.z,{colors:y,selected:r,onSelectColor:_,id:"color"}),o.color&&c.color?(0,n.jsx)(p.Bc,{name:"color",children:e=>(0,n.jsx)("div",{style:{color:"red"},children:e})}):null]})]}),(0,n.jsxs)(i.m.div,{variants:(0,C.EU)().inUp,children:[(0,n.jsx)(h.Z,{size:"large",variant:"contained",type:"submit",sx:{mr:2},children:"Submit"}),(0,n.jsx)(h.Z,{size:"large",variant:"contained",type:"button",onClick:()=>{E()},sx:{mr:2},children:"Clear"})]})]})}})]}),(0,n.jsx)(d.Z,{open:o,autoHideDuration:6e3,onClose:w,message:"Success!",children:(0,n.jsx)(S,{onClose:w,severity:"success",sx:{width:"100%"},children:"Successful!"})}),(0,n.jsx)(d.Z,{open:Z,autoHideDuration:6e3,onClose:w,message:"Error!",children:(0,n.jsx)(S,{onClose:w,severity:"error",sx:{width:"100%"},children:"Error!"})})]})}var R=r(73701),F=r(77370),T=r(80470),b=r(39279),v=r(15795),_=r(22079),w=r(42834),U=r(26337),A=r(64173),D=r(91797),k=r(8088),O=r(1839),I=r(38788),G=r(94700);let L=[{id:"category",label:"Category"},{id:"delete",label:"Delete",align:"center"}],B=s.forwardRef((e,t)=>(0,n.jsx)(k.Z,{direction:"up",ref:t,...e})),H=s.forwardRef((e,t)=>(0,n.jsx)(u.Z,{elevation:6,ref:t,variant:"filled",...e}));function q(e){let{categories:t}=e,[r,a]=(0,s.useState)(!1),[o,i]=(0,s.useState)(""),[l,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&(f({type:"FETCH_CATEGORIES_REQUEST"}),g.Z.get("".concat("http://localhost:4000","/expense-category")).then(e=>{f({type:"FETCH_CATEGORIES_SUCCESS",payload:e.data})}).catch(e=>{f({type:"FETCH_CATEGORIES_FAILURE",payload:e.message})}))},[t]);let p=()=>{a(!1)},E=e=>{a(!0),i(e)},[C,f]=(0,s.useReducer)((e,t)=>{switch(t.type){case"FETCH_CATEGORIES_REQUEST":return{...e,loading:!0,error:null};case"FETCH_CATEGORIES_SUCCESS":return{...e,loading:!1,categories:t.payload,error:null};case"FETCH_CATEGORIES_FAILURE":return{...e,loading:!1,categories:[],error:t.payload};case"DELETE_CATEGORY_REQUEST":return{...e,loading:!0};case"DELETE_CATEGORY_SUCCESS":return{...e,loading:!1,categories:e.categories.filter(e=>e._id!==t.payload)};case"DELETE_CATEGORY_FAILURE":return{...e,loading:!1,error:t.payload};default:return e}},{loading:!1,categories:[],error:null}),y=()=>{c(!1),x(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{sx:{mt:3,overflow:"unset"},children:(0,n.jsx)(O.Z,{children:(0,n.jsxs)(R.Z,{sx:{minWidth:200},children:[(0,n.jsx)(I.K,{headLabel:L}),(0,n.jsx)(b.Z,{children:C.categories.map(e=>(0,n.jsxs)(F.Z,{children:[(0,n.jsx)(T.Z,{children:e.expenseCategory}),(0,n.jsx)(T.Z,{children:e.color}),(0,n.jsx)(T.Z,{align:"right",onClick:()=>E(e._id),children:(0,n.jsx)(G.Z,{icon:"eva:trash-2-outline",sx:{borderRadius:.65,width:28},style:{cursor:"pointer"}})})]},e._id))})]})})}),(0,n.jsxs)(_.Z,{open:r,TransitionComponent:B,keepMounted:!0,onClose:p,"aria-describedby":"alert-dialog-slide-description",children:[(0,n.jsx)(D.Z,{children:"Delete Expense Category"}),(0,n.jsx)(U.Z,{children:(0,n.jsx)(A.Z,{id:"alert-dialog-slide-description",children:"Do you want to Delete the selected Expense Category?"})}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(h.Z,{onClick:p,children:"Cancel"}),(0,n.jsx)(h.Z,{onClick:()=>{a(!1),i(o),f({type:"DELETE_CATEGORY_REQUEST",payload:o}),g.Z.delete("".concat("http://localhost:4000","/expense-category/").concat(o)).then(e=>{f({type:"DELETE_CATEGORY_SUCCESS",payload:o}),c(!0)}).catch(e=>{f({type:"DELETE_CATEGORY_FAILURE",payload:e.message}),x(!0)})},sx:{bgcolor:"red",color:"white","&:hover":{bgcolor:"darkred",color:"white"}},children:"Delete"})]})]}),(0,n.jsx)(d.Z,{open:l,autoHideDuration:6e3,onClose:y,message:"Success!",children:(0,n.jsx)(H,{onClose:y,severity:"success",sx:{width:"100%"},children:"Successful!"})}),(0,n.jsx)(d.Z,{open:u,autoHideDuration:6e3,onClose:y,message:"Error!",children:(0,n.jsx)(H,{onClose:y,severity:"error",sx:{width:"100%"},children:"Error!"})})]})}function Y(){let[e,t]=(0,s.useState)([]);return(0,n.jsx)(o.Z,{sx:{py:10},children:(0,n.jsxs)(a.Z,{gap:10,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[(0,n.jsx)(Z,{setCategories:t}),(0,n.jsx)(q,{categories:e})]})})}}},function(e){e.O(0,[5510,8931,6382,9830,9263,5478,2301,8599,9516,659,7611,654,5594,2968,4839,7133,9222,3955,3083,6175,2971,596,1744],function(){return e(e.s=11368)}),_N_E=e.O()}]);